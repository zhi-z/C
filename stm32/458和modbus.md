# 458和modbus

协议分为硬件层协议和软件层协议.硬件层协议解决的是数的传递问题.例如rs232,rs485,can,I2C等.软件协议解决传输的目的,例如modbus,TCP/IP等.

## 1 485通讯

458通讯是在硬件层实现的通讯协议,可以使用仪表进行测量,它需要解决的是0和1传输的问题.例如MCU输出的是TTL电平(0v,5v),假设MCU使用一根先实现数据传输,而458就是把这根线的传输使用转换器,把MCU发出的信号转换成使用两根线进行传输,一根线叫A,一根线叫B.当MCU发出0的时候,A的电压大于B的电压,反正MCU输出搞电平,是一个差分的通讯模式.在传输的过程中需要把MCU输出的TTL电平转换成485电平进行通讯(发送器),在接收方也可以把485电平转换成TTL电平(接收器),这样子可以实现两个MCU进行数据传输.

## 2 modbus通讯协议

modbus是软件软件层协议,是为了让传输更加规范和可靠,按照一定的规则进行传输.软件层协议是为了解决传输的目的,是主机找从机还是从机找主机.modbus是为了解解决该如何发送数据,该怎么样定义是护甲的格式,而不是乱自己定义发送数据的格式,例如我要发送数据到另一个单片机,该怎么约定数据的格式,这样以来能够实现设备更好的进行交流.modbus是一种预先约定的格式,当设备发送数据的时候就按照这预先约定的格式进行发送.

modbus要解决的是第一如何从主机发送数据到从机,第二如何从从机中获取消息,该消息该如何发回来,第三个就是从机如何把数据发送到从机,该如何发.
